<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Hello world, Swift · Hyyy的技术博客</title><meta name="description" content="Hello world, Swift - Hyyy"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Hyyy的技术博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="http://www.jianshu.com/u/eee3fae14bec" target="_blank" class="nav-list-link">简书</a></li><li class="nav-list-item"><a href="https://github.com/castial" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Hello world, Swift</h1><div class="post-info">Mar 8, 2016</div><div class="post-content"><blockquote>
<p>这是一个充满着变化的世界，所做的每一件事，明天都可能会成为没有价值的历史。学习亦是如此，人生的选择不多。  </p>
</blockquote>
<p>满足当下，并不是一个年轻人该有的心态。拥抱Swift这个想法，其实很早就有了，只是每次都缺乏足够的耐心，最终结果未知。这次，就从一个Hello world开始，坚持下去！</p>
<h4 id="打印Hello-world"><a href="#打印Hello-world" class="headerlink" title="打印Hello world"></a>打印Hello world</h4><p>其实和C语言差不多，如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(&quot;Hello world&quot;)</div></pre></td></tr></table></figure>
<p>不同的是，作为一门现代编程语言，你不需要书写main方法，因为全局作用域的代码会自动当作程序的入口。还有，你再也不用写那个分号了:)</p>
<h4 id="常量和变量"><a href="#常量和变量" class="headerlink" title="常量和变量"></a>常量和变量</h4><p>在Swift中，用<code>let</code>来声明常量，用<code>var</code>来声明变量。怎么样，很简单吧，但是有时候我们需要知道常量或者变量是什么类型的，这时就需要类型标注(type annotation)，比如我们想要定义一个名为name的字符型变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var name: String</div></pre></td></tr></table></figure>
<p>冒号的意思是“是…类型”，上面这句话可以理解为“声明一个类型为String，名叫name的变量”。当然，你也可以一行定义多个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var name, address: String</div></pre></td></tr></table></figure>
<p>注意：变量和常量的命名不能包含数学符号，箭头，非法的Unicode码，连线与制表符，也不能以数字开头。   </p>
<p>如果要打印常量或者变量，很简单(Hello world已经给出)，如果想当作占位符的方式打印，使用<code>\()</code>来完成。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(&quot;Your name is \(name)&quot;)</div></pre></td></tr></table></figure>
<p>上面会打印出name的值。</p>
<a id="more"></a>
<h4 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h4><p>Swift并不强求在每条语句结束后写<code>;</code>，但是，如果你想在同一行代码里写多条独立的语句，那必须加上<code>;</code>。</p>
<h4 id="元组-tuples"><a href="#元组-tuples" class="headerlink" title="元组(tuples)"></a>元组(tuples)</h4><p>注意，这不是数组，这是Swift独有的数据类型，类似于C语言中的结构体，用来存储一组相关的值。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">let personInfo = (0001, &quot;Jack&quot;, 23)</div></pre></td></tr></table></figure>
<p>元组内的值可以是任意类型，并不要求是相同类型。上面是模拟一个人的信息，可以这样获取其中的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">print(&quot;The number is \(personInfo.0)&quot;)</div><div class="line">print(&quot;The name is \(personInfo.1)&quot;)</div></pre></td></tr></table></figure>
<p>你还可以给单个元素命名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">let personInfo = (number: 0001, name: &quot;Jack&quot;, age: 23)</div></pre></td></tr></table></figure>
<p>打印时可使用名字进行打印：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">print(&quot;The number is \(personInfo.number)&quot;)</div><div class="line">print(&quot;The name is \(personInfo.name)&quot;)</div></pre></td></tr></table></figure>
<p>在需要临时组织值时，元组会十分好用，但是如果需要复杂的数据结构，那么还是请使用类或者结构体吧。</p>
<h4 id="可选类型-optionals"><a href="#可选类型-optionals" class="headerlink" title="可选类型(optionals)"></a>可选类型(optionals)</h4><p>貌似其他语言都没有这个概念，如果学过Objective-C的话，都知道一个方法要么返回一个对象，要么返回<code>nil</code>，在OC中<code>nil</code>表示一个缺失的合法对象，然而只对对象起作用，其他免谈，相信很多人都在这块出过错，在非对象的类型中，OC的做法是返回一个特殊值来表示值缺失，如<code>NSNotFound</code>。然而，Swift大大简化了这个操作，可选类型可以表示任意类型的值缺失，而不是单单是对象。  </p>
<p>再说这个<code>nil</code>，Swift中的<code>nil</code>和Objective-C中的<code>nil</code>并不太一样，在OC中，<code>nil</code>是一个指向不存在对象的指针，而在Swift中，<code>nil</code> 不是指针，表示值缺省，是一个确定的值。任何类型的可选状态都可以被设置为<code>nil</code>，由此，<code>nil</code>是不能用于非可选的常量或者变量的。</p>
<p>对于可选类型，在判断是否有值时，使用<code>nil</code>则简单了很多，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if numberStr != nil &#123;</div><div class="line">	print(&quot;Result == \(numberStr!)&quot;)</div><div class="line">&#125;else &#123;</div><div class="line">	print(&quot;Result is nil&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个<code>!</code>叫做强制解析，表示“我就知道它有值，请使用它”。但是，使用<code>!</code>来获取一个不存在的可选值时可能会导致运行错误，所以使用前一定要确定可选值一定是非<code>nil</code>。  </p>
<p>有时候，当一个常量或变量被赋值之后，可以确定一个可选类型总会有值，这时每次都去判断可解析可选值时是非常低效的，所以出现了隐式解析可选类型，使用<code>!</code>来标识。顾名思义，它是一个自动解析的可选类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let str: String! = &quot;haha&quot;</div><div class="line">let implStr: String = str</div></pre></td></tr></table></figure>
<p>使用隐式解析后再也不需要<code>!</code>，但是注意，如果隐式解析可选类型在没有值时强制取值，会在运行时出错。所以，如果一个变量可能会成为<code>nil</code>，请不要使用隐式解析可选类型。</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>Swift支持大部分标准C语言的运算符，但是作为一门现代编程语言，在某些地方做了优化，下面来说说这些变化。</p>
<h4 id="浮点数求余"><a href="#浮点数求余" class="headerlink" title="浮点数求余"></a>浮点数求余</h4><p>在Swift中，可以对浮点数进行求余计算。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">8 % 2.5    //0.5</div></pre></td></tr></table></figure>
<h4 id="空合运算符-Nil-Coalescing-Operator"><a href="#空合运算符-Nil-Coalescing-Operator" class="headerlink" title="空合运算符(Nil Coalescing Operator)"></a>空合运算符(Nil Coalescing Operator)</h4><p>空合运算符可以对一个可选类型的变量进行空判断，如果包含一个值就进行解封，否则会返回一个默认值。书写方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a ?? b</div></pre></td></tr></table></figure>
<p>注意，a必须是可选类型的，而且默认值包的类型必须和a保持一致，上面代码其实可以按照一个三目运算式来理解：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a != nil ? a! : b</div></pre></td></tr></table></figure>
<p>#####闭区间运算符<br>闭区间运算符<code>a...b</code>定义一个包含从<code>a</code>到<code>b</code>(包含<code>a</code>和<code>b</code>)的所有值区间。<code>b</code>必须大于<code>a</code>。在<code>for-in</code>中经常用到:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for index in 1...5 &#123;</div><div class="line">    print(&quot;\(index) = \(index)&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="半开区间运算符"><a href="#半开区间运算符" class="headerlink" title="半开区间运算符"></a>半开区间运算符</h4><p>半开区间运算符和闭区间运算符类似，半开区间<code>a..&lt;b</code>定义一个从<code>a</code>到<code>b</code>但不包括<code>b</code>的区间，在遍历数组中经常用到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let fruits = [&quot;apples&quot;, &quot;bananas&quot;, &quot;oranges&quot;]</div><div class="line">for i in 0..&lt;fruits.count &#123;</div><div class="line">    print(fruits[i])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="字符串和集合类型"><a href="#字符串和集合类型" class="headerlink" title="字符串和集合类型"></a>字符串和集合类型</h3><h4 id="遍历字符串"><a href="#遍历字符串" class="headerlink" title="遍历字符串"></a>遍历字符串</h4><p>可以通过 <code>for-in</code>循环来遍历字符串中的每一个字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for character in &quot;Hello, world!&quot;.characters &#123;</div><div class="line">	print(character)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="数组-Arrays"><a href="#数组-Arrays" class="headerlink" title="数组(Arrays)"></a>数组(Arrays)</h4><p>Swift提供<code>Arrays</code>、<code>Sets</code>和<code>Dictionaries</code>三种基本类型来存储集合数据。数组(Arrays)是有序数据的集合，集合(Sets)是无序无重复数据的集合，字典(Dictionaries)是无序的键值对的集合。</p>
<p>数组使用有序列表存储同一类型的多个值，相同的值可以出现在同一数组的不同位置。数组的创建方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 第一种创建方式</div><div class="line">var intArr = [Int]()</div><div class="line">// 第二种创建方式, 带默认值</div><div class="line">var intArr = [Int](count: 4, repeatedValue: 0)</div><div class="line">// 第三种创建方式</div><div class="line">var intArr: [Int] = [1, 2, 3, 4]</div></pre></td></tr></table></figure>
<h4 id="集合-Sets"><a href="#集合-Sets" class="headerlink" title="集合(Sets)"></a>集合(Sets)</h4><p>集合(Sets)用来存储相同数据类型并且没有顺序的值，集合保证了在集合中每个元素只出现一次。集合的创建方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 第一种创建方式</div><div class="line">var intSets = Set&lt;Int&gt;()</div><div class="line">// 第二种创建方式</div><div class="line">var intSets: Set&lt;Int&gt; = [1, 2, 3, 4]</div></pre></td></tr></table></figure>
<h4 id="字典-Dictionaries"><a href="#字典-Dictionaries" class="headerlink" title="字典(Dictionaries)"></a>字典(Dictionaries)</h4><p>字典是存储多个相同类型值的容器。每个值都关联着一个唯一的key，key作为字典中元素的识别符。字典中的元素是没有顺序的。字典的创建方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 第一种创建方式</div><div class="line">var dic = [Int: String]()</div><div class="line">// 第二种创建方式</div><div class="line">var dic: [Int: String] = [1:&quot;name&quot;, 2:&quot;age&quot;, 3:&quot;address&quot;]</div></pre></td></tr></table></figure>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>在Swift中，函数的定义十分灵活，也比较好理解。下面是个简单的函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">func sayHello(personName: String) -&gt; String &#123;</div><div class="line">	let greeting = &quot;Hello, &quot; + personName + &quot;!&quot;</div><div class="line">	return greeting</div><div class="line">&#125;</div><div class="line"></div><div class="line">print(sayHello(&quot;Jack&quot;))</div></pre></td></tr></table></figure>
<h4 id="无参函数"><a href="#无参函数" class="headerlink" title="无参函数"></a>无参函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">func sayHello() -&gt; String &#123;</div><div class="line">	return &quot;Hello, world&quot;</div><div class="line">&#125;</div><div class="line"></div><div class="line">print(sayHello())</div></pre></td></tr></table></figure>
<h4 id="多参数函数"><a href="#多参数函数" class="headerlink" title="多参数函数"></a>多参数函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">func sayHello(personName: String, alreadyGreeted: Bool) -&gt; String &#123;</div><div class="line">	if alreadyGreeted &#123;</div><div class="line">		return &quot;Already greeted!&quot;</div><div class="line">	&#125;else &#123;</div><div class="line">		return &quot;Hello, &quot; + personName + &quot;!&quot;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">print(sayHello(&quot;Jack&quot;, alreadyGreeted: true))</div></pre></td></tr></table></figure>
<h4 id="无返回值函数"><a href="#无返回值函数" class="headerlink" title="无返回值函数"></a>无返回值函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">func sayHello(personName: String) &#123;</div><div class="line">	print(&quot;Hello, \(personName)!&quot;)</div><div class="line">&#125;</div><div class="line"></div><div class="line">sayHello(&quot;Jack&quot;)</div></pre></td></tr></table></figure>
<h4 id="多重返回值函数"><a href="#多重返回值函数" class="headerlink" title="多重返回值函数"></a>多重返回值函数</h4><p>这个很实用，可以用元组来实现将多个值作为一个复合值返回。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">func findMinAndMaxFromArray(array: [Int]) -&gt; (min: Int, max: Int)? &#123;</div><div class="line">	var currentMin = array[0]</div><div class="line">	var currentMax = array[0]</div><div class="line">	for value in array[1..&lt;array.count] &#123;</div><div class="line">		if value &lt; currentMin &#123;</div><div class="line">			currentMin = value</div><div class="line">		&#125;else if value &gt; currentMax &#123;</div><div class="line">			currentMax = value</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	return (currentMin, currentMax)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面是简单的一个求最大值和最小值的函数，返回为一个元组。</p>
<h4 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h4><p>可变参数的意思是可以接受零个或者多个参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">func arithmeticMean(numbers: Double...) -&gt; Double &#123;</div><div class="line">	var total: Double = 0</div><div class="line">	for number in numbers &#123;</div><div class="line">		total += number</div><div class="line">	&#125;</div><div class="line">	return total / Double(numbers.count)</div><div class="line">&#125;</div><div class="line"></div><div class="line">arithmeticMean(1, 2, 3, 4, 5)</div><div class="line">arithmeticMean(3, 2.3, 12.3)</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2016/03/24/Swift学习之枚举、类和结构体/" class="prev">PREV</a><a href="/2014/07/24/玩转ProGuard/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'hyyyblog';
var disqus_identifier = '2016/03/08/Hello-world-Swift/';
var disqus_title = 'Hello world, Swift';
var disqus_url = 'http://yoursite.com/2016/03/08/Hello-world-Swift/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//hyyyblog.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">Hyyy</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>